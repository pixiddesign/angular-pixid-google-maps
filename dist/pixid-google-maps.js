/******/!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}// webpackBootstrap
/******/
var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var i=n(1),o=n(2),a=n(3),r=n(4);angular.module("pixid.googleMaps",["ng"]).provider("pxGoogleMapsAPI",a.GoogleMapsAPIProvider).directive("pxGoogleMapsPlacesAutocomplete",r.GoogleMapsPlacesAutocompleteDirective).config(i.config).run(o.runBlock)},function(e,t){"use strict";function n(){"ngInject"}Object.defineProperty(t,"__esModule",{value:!0}),t.config=n},function(e,t){"use strict";function n(e){"ngInject"}Object.defineProperty(t,"__esModule",{value:!0}),t.runBlock=n,n.$inject=["$rootScope"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){"ngInject";n(this,e);var t=this;t.config={url:"https://maps.googleapis.com/maps/api/js",params:{language:"en",libraries:"places",v:"3.exp"}},this.$get=function(e,o,a){var r=function(){function r(){n(this,r),this.config=t.config,this.counter=a.Math.round(1e3*a.Math.random())}return i(r,[{key:"getURL",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=this.withDefaults(t),i=n.params,o=n.url,a=-1===o.indexOf("?")?"?":"&";return""+o+a+e(i)}},{key:"include",value:function(e){var t=this;if(angular.isObject(e))return this.include(this.getURL(e));if(this.includePromise)return this.includePromise["catch"](angular.noop).then(function(){return t.include(e)});this.includeScript&&(this.includeScript.remove(),delete this.includeScript);var n=this.includePromise=o(function(n,i){var o=t.includeScript=a.document.createElement("script");o.onerror=i,o.onload=n,o.type="text/javascript",o.src=e,o.async=!0,a.document.body.appendChild(o)});return n["finally"](function(){n===t.includePromise&&(delete t.includePromise,t.includeScript&&(t.includeScript.remove(),delete t.includeScript))}),n}},{key:"isLoaded",value:function(e){var t=this;if(angular.isArray(e))return e.every(function(e){return t.isLoaded(e)});if(angular.isString(e)){if(-1!==e.indexOf(",")){var n=e.split(",");return this.isLoaded(n)}return this.isLoaded()&&angular.isDefined(a.google.maps[e])}return angular.isDefined(a.google)&&angular.isDefined(a.google.maps)}},{key:"load",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return t=this.withDefaults(t),this.isLoaded(t.params.libraries)?o.when(a.google.maps):o(a.navigator.connection&&a.Connection&&a.navigator.connection.type===a.Connection.NONE?function(n,i){var o=function r(){a.document.removeEventListener("online",r),e.load(t).then(n)["catch"](i)};a.document.addEventListener("online",o)}:function(n,i){var o=t.params.callback="pxGoogleMaps"+e.counter++;a[o]=function(){delete a[o],n(a.google.maps)},e.include(t)["catch"](function(e){delete a[o],i(e)})})}},{key:"withDefaults",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return e.params=angular.extend({},this.config.params,e.params||{}),e.url=e.url||this.config.url,e}}]),r}();return new r},this.$get.$inject=["$httpParamSerializer","$q","$window"]}return i(e,[{key:"init",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];angular.isObject(e.params)&&(this.config.params=angular.extend(angular.copy(this.config.params),e.params),delete e.params),this.config=angular.extend(angular.copy(this.config),e)}}]),e}();t.GoogleMapsAPIProvider=o},function(e,t,n){"use strict";function i(e){"ngInject";return{restrict:"A",require:["ngModel","pxGoogleMapsPlacesAutocomplete"],controller:a.GoogleMapsPlacesAutocompleteController,controllerAs:"pxGoogleMapsPlacesAutocomplete",link:function(t,n,i,a){var r=o(a,2),l=r[0],c=r[1];i.noPlaceholder&&t.$eval(i.noPlaceholder)===!0&&n.attr("placeholder",""),e.load().then(function(e){var o=i.pxGoogleMapsPlacesAutocomplete?t.$eval(i.pxGoogleMapsPlacesAutocomplete):{};c.init(e,l,o);var a=function(e){return c.change(e)},r=function(e){return c.focus(e)},u=function(e){return c.blur(e)};n.on("change",a),n.on("focus",r),n.on("blur",u);var s=t.$on("$destroy",function(){s(),n.off("change",a),n.off("focus",r),n.off("blur",u)})})}}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){var n=[],i=!0,o=!1,a=void 0;try{for(var r,l=e[Symbol.iterator]();!(i=(r=l.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(c){o=!0,a=c}finally{try{!i&&l["return"]&&l["return"]()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.GoogleMapsPlacesAutocompleteDirective=i;var a=n(5);i.$inject=["pxGoogleMapsAPI"]},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,i,o,a,r,l){"ngInject";n(this,e),this.placeInput=null,this.placeModelGetter=angular.noop,this.placeModelSetter=angular.noop,t.placeModel&&(this.placeModelGetter=o(t.placeModel),this.placeModelSetter=this.placeModelGetter.assign),this.placeIdModelGetter=angular.noop,this.placeIdModelSetter=angular.noop,t.placeIdModel&&(this.placeIdModelGetter=o(t.placeIdModel),this.placeIdModelSetter=this.placeIdModelGetter.assign),this.$element=i,this.$q=a,this.$scope=r,this.$timeout=l,this.dirty=!1,this.queue=[]}return e.$inject=["$attrs","$element","$parse","$q","$scope","$timeout"],i(e,[{key:"init",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return this.googleMaps=e,this.ngModel=t,this.options=n,this.autocomplete=new this.googleMaps.places.Autocomplete(this.$element[0],n),this.autocompleteService=new this.googleMaps.places.AutocompleteService,this.placesService=new this.googleMaps.places.PlacesService(this.$element[0]),this.googleMaps.event.addListener(this.autocomplete,"place_changed",this.placeChanged.bind(this)),this}},{key:"change",value:function(){this.dirty=!0}},{key:"focus",value:function(){this.dirty=!1}},{key:"blur",value:function(){var e=this;0===this.queue.length&&(this.placeInput=this.$element.val(),this.dirty===!0?!this.placeInput||angular.isString(this.placeInput)&&0===this.placeInput.length?(this.placeModelSetter(this.$scope,null),this.placeIdModelSetter(this.$scope,null),this.placeInput=null):this.placeChanged():this.$timeout(function(){var t=e.placeModelGetter(e.$scope);t&&angular.isDefined(t.formatted_address)&&(e.$element.val(t.formatted_address),e.dirty=!1)})),this.dirty=!1}},{key:"placeChanged",value:function(){var e=this;this.dirty=!1,this.placeModelSetter(this.$scope,null),this.placeIdModelSetter(this.$scope,null);var t=null;t=0===this.queue.length?this.getPlace():this.queue[0]["catch"](angular.noop).then(this.getPlace.bind(this)),t["finally"](function(){return e.queue.pop()})}},{key:"getPlace",value:function(){var e=this;return this.$q(function(t,n){if(null===e.placeInput||0===e.placeInput.length){var i=e.autocomplete.getPlace();i&&i.address_components?t(i):i&&i.name?t(e.getPlacePrediction(i)):n(i)}else{var i={name:e.placeInput};e.placeInput=null,t(e.getPlacePrediction(i))}}).then(function(t){return e.$element.val(t.formatted_address),e.ngModel.$setViewValue(t.formatted_address),e.placeModelSetter(e.$scope,t),e.placeIdModelSetter(e.$scope,t.place_id),e.dirty=!1,e.placeInput=null,t})}},{key:"getPlacePrediction",value:function(e){var t=this;return this.$q(function(n,i){var o=angular.extend({input:e.name,offset:e.name.length},t.options);t.autocompleteService.getPlacePredictions(o,function(o){o&&o.length>0?t.placesService.getDetails({placeId:o[0].place_id},function(o,a){a===t.googleMaps.places.PlacesServiceStatus.OK?n(o):a===t.googleMaps.places.PlacesServiceStatus.OVER_QUERY_LIMIT?t.$timeout(function(){n(t.getPlacePrediction(e))},250):i(a)}):i(o)})})}}]),e}();t.GoogleMapsPlacesAutocompleteController=o}]);
//# sourceMappingURL=maps/pixid-google-maps.js.map